package com.posidex.boot;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.ConfigurableApplicationContext;

import com.posidex.boot.entity.Contact;
import com.posidex.boot.repository.ContactRepository;

@SpringBootApplication
public class Application {

	public static void main(String[] args) {
		//-- get spring container
		ConfigurableApplicationContext context = SpringApplication.run(Application.class, args);
		
		//-- get Repository bean
		ContactRepository contactRepo = context.getBean(ContactRepository.class); 
		/*ContactRepository is an interface then how come object
		 - Proxy Design Pattern - implementation class is being created implicitly
		 */
		
		Contact contact = new Contact();
		contact.setContactId(101);
		contact.setContactName("Sunil Joseph");
		contact.setContactNumber("9505511044");
		
		Contact savedContact =contactRepo.save(contact);
		System.out.println("$$$--- Contact Saved ---$$$");
		
		context.close();
	}

}
